!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";var r=n(1),o={}.toString;function i(t){return function(e){return o.call(e)==="[object "+t+"]"}}function a(t){return u(t)?"":t.toString()}function u(t){return null==t}var c={isObject:i("Object"),isString:i("String"),isFunction:i("Function"),isNumber:i("Number"),isBoolean:i("Boolean"),isDate:i("Date"),stringify:a,joinSourceArray:function(t){return function t(e){for(var n="",r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n+=t(i):n+=a(i)}return n}(t)},encodeHtml:function(t,e){return e?t.replace(/"/g,"&quot;"):t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},isNil:u,setFontStyle:function(t){var e=t.fontStyle,n=t.fontWeight,r=t.fontSize,o=t.fontFamily;return"".concat(e," ").concat(n," ").concat(r,"px/").concat(r,"px ").concat(o)},getLimitLineHeight:function(t,e,n){var o=e*(r.a[n]||r.a.arial).car;return t<=0?Math.ceil(o):Math.max(t,o)}};e.a=c},function(t,e,n){"use strict";e.a={arial:{lhr:1.14990234375,car:1.1172,blr:.9052734375,mdr:.64599609375,lgr:.03271484375}}},function(t,e,n){"use strict";var r=n(3),o=n(5);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,c(e).call(this,t))).__style={},n}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(i=[{key:"__initStyle",value:function(){Object.assign(this.__style,{width:300,height:150},o.a,this.props.style,{display:"block"})}},{key:"__preLay",value:function(t){var e=t.x,n=t.y,r=t.w;t.h;this.__x=e,this.__y=n,this.__width=r,this.__height=this.style.height}},{key:"render",value:function(){throw new Error("Geom render() must be implemented")}},{key:"style",get:function(){return this.__style}}])&&a(n.prototype,i),s&&a(n,s),e}();e.a=s},function(t,e,n){"use strict";n(0);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||[],Array.isArray(e)?(this.props=function(t){for(var e={},n=0,r=t.length;n<r;n++){var o=t[n];if(Array.isArray(o))e[o[0]]=o[1];else for(var i=Object.keys(o),a=i.length-1;a>=0;a--){var u=i[a];e[u]=o[u]}}return e}(e),this.__props=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(!Array.isArray(r)){for(var o=[],i=Object.keys(r),a=0,u=i.length;a<u;a++){var c=i[a];o.push([c,r[c]])}t.splice.apply(t,[e,1].concat(o))}}return t}(e)):(this.props=e,this.__props=function(t){for(var e=[],n=Object.keys(t),r=0,o=n.length;r<o;r++){var i=n[r];e.push([i,t[i]])}return e}(e)),this.__x=0,this.__y=0,this.__width=0,this.__height=0,this.__prev=null,this.__next=null,this.__ctx=null,this.__parent=null,this.__baseLine=0}var e,n,o;return e=t,(n=[{key:"x",get:function(){return this.__x}},{key:"y",get:function(){return this.__y}},{key:"width",get:function(){return this.__width}},{key:"height",get:function(){return this.__height}},{key:"prev",get:function(){return this.__prev}},{key:"next",get:function(){return this.__next}},{key:"parent",get:function(){return this.__parent}},{key:"ctx",get:function(){return this.__ctx}},{key:"baseLine",get:function(){return this.__baseLine}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,u(e).call(this,[]))).__textContent=t.toString(),n.__lineBoxes=[],n}var n,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,(o=[{key:"textContent",get:function(){return this.__textContent},set:function(t){this.__textContent=t}},{key:"lineBoxes",get:function(){return this.__lineBoxes}}])&&i(n.prototype,o),f&&i(n,f),e}(),s=n(2),l=n(0),h=n(5),y=n(1);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={div:!0,span:!0},m={span:!0};var w=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=b(this,v(e).call(this,n))).__tagName=t,o.__children=r,o.__style={},o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,r["a"]),n=e,i=[{key:"isValid",value:function(t){return g.hasOwnProperty(t)}}],(o=[{key:"__traverse",value:function(t){var n=this,r=[];this.__traverseChildren(this.children,r,t);for(var o=r.length-1;o>0;o--){var i=r[o];if(i instanceof f){var a=r[o-1];a instanceof f?(a.textContent+=i.textContent,r.splice(o,1)):o--}}if("inline-block"===this.style.display)for(var u=r.length-1;u>=0;u--){var c=r[u];if(c instanceof e&&"inline-block"!==c.style.display)throw new Error("inline-block can not contain block")}r.forEach(function(e){e.__ctx=t,e.__parent=n,e.__prev=null}),this.__children=r}},{key:"__traverseChildren",value:function(t,n,r){var o=this;Array.isArray(t)?t.forEach(function(t){o.__traverseChildren(t,n,r)}):t instanceof e?(n.push(t),t.__traverse(r)):t instanceof s.a?n.push(t):l.a.isNil(t)||n.push(new f(t))}},{key:"__initStyle",value:function(){var t=this.style;Object.assign(t,h.a,this.props.style),t.display&&-1!==["flex","block","inline-block"].indexOf(t.display)||(m.hasOwnProperty(this.tagName)?t.display="inline-block":t.display="block");var n=this.parent;if(n){var r=n.style;["fontSize","lineHeight"].forEach(function(e){!t.hasOwnProperty(e)&&r.hasOwnProperty(e)&&(t[e]=r[e])})}this.children.forEach(function(t){t instanceof e?t.__initStyle():t instanceof s.a&&t.__initStyle()});var o=t.fontSize,i=t.lineHeight;i=function(t,e){return e<=0?Math.ceil(t*y.a.arial.lhr):Math.max(e,Math.ceil(t*y.a.arial.car))}(o,i),t.lineHeight=i}},{key:"__tryLayInline",value:function(t){for(var n=this.children,r=this.ctx,o=this.style,i=0;i<n.length;i++){if(t<0)return t;var a=n[i];a instanceof e?t=a.__tryLayInline(t):(r.font=l.a.setFontStyle(o),t-=r.measureText(a.textContent).width)}return t}},{key:"__preLayLine",value:function(t,n){n.w;var r=n.lineHeight,o=0;return t.forEach(function(t){r=Math.max(r,t.height),o=Math.max(o,t.baseLine)}),this.__baseLine=o,t.forEach(function(t){var n=o-t.baseLine;t instanceof e?t.__offsetY(n):t.__y+=n}),r}},{key:"__preLay",value:function(t){var n=this,r=t.x,o=t.y,i=t.w;this.__x=r,this.__y=o;var a=r,u=this.children,c=this.ctx,f=this.style,h=f.lineHeight,p=[];if(u.forEach(function(u){if(u instanceof e)if(u.__isInline()){if(r===t.x)u.__preLay({x:r,y:o,w:i}),p.push(u),r+=u.width;else if(u.__tryLayInline(i-r)>=0)u.__preLay({x:r,y:o,w:i}),p.push(u),r+=u.width;else{var _=n.__preLayLine(p,{w:i,lineHeight:h});r=t.x,o+=_,u.__preLay({x:r,y:o,w:i}),p=[u]}}else{if(p.length){var b=n.__preLayLine(p,{w:i,lineHeight:h});r=t.x,o+=b,p=[]}u.__preLay({x:r,y:o,w:i}),o+=u.height}else if(u instanceof s.a){if(p.length){var v=n.__preLayLine(p,{w:i,lineHeight:h});o+=v}u.__preLay({x:r,y:o,w:i}),o+=u.height}else{c.font=l.a.setFontStyle(f);var d=c.measureText(u.textContent).width;r+d>i||(u.__x=r,u.__y=o,u.__width=d,u.__height=h,u.__baseLine=(g=f.fontSize,Math.ceil(g*y.a.arial.blr)),r+=d,a=Math.max(a,r),p.push(u))}var g}),p.length){var _=this.__preLayLine(p,{w:i,lineHeight:h});o+=_}this.__width=a-t.x,this.__height=o-t.y}},{key:"render",value:function(){var t=this.ctx,n=this.style;this.children.forEach(function(r){r instanceof e||r instanceof s.a?r.render():(t.font=l.a.setFontStyle(n),t.fillText(r.textContent,r.x,r.y+r.baseLine))})}},{key:"__isInline",value:function(){return"inline-block"===this.style.display}},{key:"__offsetY",value:function(t){this.__y+=t,this.children.forEach(function(n){n instanceof e?n.__offsetY(t):n.__y+=t})}},{key:"tagName",get:function(){return this.__tagName}},{key:"children",get:function(){return this.__children}},{key:"style",get:function(){return this.__style}}])&&_(n.prototype,o),i&&_(n,i),e}();e.a=w},function(t,e,n){"use strict";e.a={borderSizing:"content-box",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:16,fontFamily:"sans-serif",fontColor:"#000",fontStyle:"normal",fontWeight:400,lineHeight:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,borderTopStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderLeftStyle:"solid",verticalAlign:"baseline"}},function(t,e,n){"use strict";var r=n(4),o=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){var n=Array.isArray(e)?o.a.joinSourceArray(e):o.a.stringify(e);return"className"===t&&(t="class")," "+t+'="'+o.a.encodeHtml(n,!0)+'"'}var l=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===(r=u(this,c(e).call(this,"canvas",t,n))).props.width?(r.props.width=r.__width=300,r.__props.push(["width",300])):r.__width=Math.max(0,parseInt(r.props.width)||0),void 0===r.props.height?(r.props.height=r.__height=150,r.__props.push(["height",150])):r.__height=Math.max(0,parseInt(r.props.height)||0),r.__element=null,r}var n,i,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(i=[{key:"toString",value:function(){for(var t="<canvas",e=0,n=this.__props.length;e<n;e++){var r=this.__props[e];t+=s(r[0],r[1])}return t+="></canvas>"}},{key:"appendTo",value:function(t){var e=this.toString();(t=function(t){if(o.a.isString(t)){var e=document.querySelector(t);if(!e)throw new Error("can not find dom of selector: "+t);return e}return t}(t)).insertAdjacentHTML("beforeend",e);var n=t.querySelectorAll("canvas");this.__element=n[n.length-1],this.__ctx=this.element.getContext("2d"),this.__traverse(this.ctx),this.__initStyle(),this.__preLay({x:0,y:0,w:this.width}),this.render()}},{key:"element",get:function(){return this.__element}}])&&a(n.prototype,i),l&&a(n,l),e}();e.a=l},function(t,e,n){"use strict";var r=n(2),o=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(i=[{key:"render",value:function(){this.x;var t=this.y,e=this.width,n=this.height,r=this.props,i=this.ctx,a=r.max,u=r.min,c=r.data;if(i.strokeStyle="#333333",i.lineWidth=1,o.a.isNil(a)&&(a=c[0],c.forEach(function(t){a=Math.max(t,a)})),o.a.isNil(u)&&(u=c[0],c.forEach(function(t){u=Math.min(t,u)})),a<u)throw new Error("max can not less than min");var f=e/(c.length-1),s=n/(a-u);a===u&&(s=n);var l=[];c.forEach(function(e,r){var o=r*f,i=n-(e-u)*s;l.push([o,i+t])});var h=l[0];i.beginPath(),i.moveTo(h[0],h[1]);for(var y=1;y<l.length;y++){var p=l[y];i.lineTo(p[0],p[1])}i.stroke(),i.closePath()}}])&&a(n.prototype,i),s&&a(n,s),e}();e.a=s},function(t,e,n){"use strict";n.r(e),function(t){var r=n(6),o=n(4),i=n(7),a={render:function(t,e){if(!t instanceof r.a)throw new Error("render root muse be canvas");return e&&t.appendTo(e),t},createGeom:function(t,e){switch(t){case"Line":return new i.a(e)}},createDom:function(t,e,n){if("canvas"===t)return new r.a(e,n);if(o.a.isValid(t))return new o.a(t,e,n);throw new Error("can not use marker: "+t)},Line:i.a};"undefined"!=typeof window?window.karas=a:void 0!==t&&(t.karas=a),e.default=a}.call(this,n(9))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}]);