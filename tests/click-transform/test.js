var path = require('path');
var fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 1, 30)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 30, 1)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 1, 30)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
